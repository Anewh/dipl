{% extends 'base.html.twig' %}

{% block title %}test
{% endblock %}

{% block body %}

	<div class="container">
		{# <div class="my-3 p-3 bg-body rounded shadow-sm">
			<h6 class="border-bottom pb-2 mb-0">Проекты</h6>
			{% for project in projects %}
				<div class="d-flex text-body-secondary pt-3">
					<svg class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="32" height="32" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 32x32" preserveaspectratio="xMidYMid slice" focusable="false">
						<title>Placeholder</title>
						<rect width="100%" height="100%" fill="#007bff"></rect>
						<text x="50%" y="50%" fill="#007bff" dy=".3em">32x32</text>
					</svg>
					<div class="pb-3 mb-0 small lh-sm border-bottom w-100">
						<div class="d-flex justify-content-between">
							<strong class="text-gray-dark">
								{{ project.fullName}}</strong>
							
						</div>
						<span class="d-block">
							{{ project.type}}</span>
					</div>
				</div>
			{% endfor %}
		</div> #}

		{% for chart in charts %}
			{# тут выводится инфа по всему проекту #}
			<div class="my-3 p-3 bg-body rounded shadow-sm">
			<h6 class="border-bottom pb-2 mb-0">Проекты</h6>
				<div class="d-flex text-body-secondary pt-3">
					<svg class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="32" height="32" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 32x32" preserveaspectratio="xMidYMid slice" focusable="false">
						<title>Placeholder</title>
						<rect width="100%" height="100%" fill="#007bff"></rect>
						<text x="50%" y="50%" fill="#007bff" dy=".3em">32x32</text>
					</svg>
					<div class="pb-3 mb-0 small lh-sm border-bottom w-100">
						<div class="d-flex justify-content-between">
							<strong class="text-gray-dark">
								{{ chart.project.fullName}}</strong>
							
						</div>
						<span class="d-block">
							{{ chart.project.type}}</span>
					</div>
				</div>
		</div>
			{# <h6 class="border-bottom pb-2 mb-0">{{ project.fullname }}</h6> #}
			<div class="row mb-2">
				<div class="col-md-6">
					<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
						<div class="col p-4 d-flex flex-column position-static">
							{{ render_chart(chart.graph.chartProject,  {'height': 700}) }}
						</div>
					</div>
				</div>
			</div>

			{# тут выводится инфа по всем репозиториям проекта #}
			<div class="my-3 p-3 bg-body rounded shadow-sm">
				<h6 class="border-bottom pb-2 mb-0">Репозитории</h6>
			</div>

			{% for storage in chart.graph.chartStorages %}
				<div class="row mb-2">
					<div class="col-md-6">
						<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								{{ render_chart(storage,  {'height': 400}) }}
							</div>
						</div>
					</div>
				</div>
			{% endfor %}

			{# тут выводится инфа по всем веткам каждого репозитория #}
			<div class="my-3 p-3 bg-body rounded shadow-sm">
				<h6 class="border-bottom pb-2 mb-0">Ветки</h6>
			</div>
			<div class="row mb-3">
				{% for branch in chart.graph.chartBranches %}
					{# <div class="row mb-2"> #}
					<div class="col-md-4">
						<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								{{ render_chart(branch,  {'height': 400}) }}
							</div>
						</div>
					</div>
					{# </div> #}
				{% endfor %}
			</div>


		{% endfor %}

		{# <div class="row mb-2">
					<div class="col-md-6">
						<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								{{ render_chart(chart[0]['chartProject'],  {'height': 700}) }}
							</div>
						</div>
					</div>
				</div>
		
				<div class="my-3 p-3 bg-body rounded shadow-sm">
					<h6 class="border-bottom pb-2 mb-0">Репозитории</h6>
				</div>
		
				<div class="row mb-2">
					<div class="col-md-6">
						<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								{{ render_chart(chart[0]['chartProject'],  {'height': 500}) }}
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								{{ render_chart(chart[0]['chartProject'],  {'height': 500}) }}
							</div>
						</div>
					</div>
				</div>
		
				<div class="my-3 p-3 bg-body rounded shadow-sm">
					<h6 class="border-bottom pb-2 mb-0">Suggestions</h6>
				</div>
		
				<div class="row mb-2">
					<div class="col-md-6">
						<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								{{ render_chart(chart[0]['chartProject'],  {'height': 500}) }}
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							<div class="col p-4 d-flex flex-column position-static">
								{{ render_chart(chart[0]['chartProject'],  {'height': 500}) }}
							</div>
						</div>
					</div>
				</div> #}
	</div>
{% endblock %}


{# {% extends 'base.html.twig' %}

{% block title %}Storage index{% endblock %}

{% block body %}
    <h1>Storage index</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Link</th>
                <th>Description</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for storage in storages %}
            <tr>
                <td>{{ storage.id }}</td>
                <td>{{ storage.link }}</td>
                <td>{{ storage.description }}</td>
                <td>
                    <a href="{{ path('app_storage_show', {'id': storage.id}) }}">show</a>
                    <a href="{{ path('app_storage_edit', {'id': storage.id}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="4">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_storage_new') }}">Create new</a>
{% endblock %} #}
